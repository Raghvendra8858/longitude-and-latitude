package com.example.todey_t;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Context;
import android.location.Address;
import android.location.Geocoder;
import android.os.Bundle;
import android.os.Handler;
import android.util.Log;
import android.widget.TextView;
import android.widget.Toast;

import com.google.android.gms.maps.model.LatLng;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.Locale;
import java.util.concurrent.TimeUnit;

import okhttp3.OkHttpClient;
import okhttp3.logging.HttpLoggingInterceptor;
import retrofit2.Call;
import retrofit2.Callback;
import retrofit2.Response;
import retrofit2.Retrofit;
import retrofit2.converter.gson.GsonConverterFactory;

public class MainActivity extends AppCompatActivity {

    TextView address, location;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        address = findViewById(R.id.address);
        location = findViewById(R.id.location);
      //  SaveCSPCenters("301006", "23.43", "34.43", "Gurgaon");
        List<String> stringList = new ArrayList<>();


//        stringList.add("325204");
//        stringList.add("524228");
//        stringList.add("263139");
//        stringList.add("344011");
     //   stringList.add("250621");
//        stringList.add("631208");
//        stringList.add("743504");
//        stringList.add("522256");
//        stringList.add("743372");
//        stringList.add("342311");
//        stringList.add("517507");
//        stringList.add("743363");
//        stringList.add("507302");
//        stringList.add("323601");
//        stringList.add("321301");
//        stringList.add("144422");
//        stringList.add("193121");
//        stringList.add("283203");
//        stringList.add("143116");
//        stringList.add("425422");
//        stringList.add("425417");
//        stringList.add("425415");
//        stringList.add("518122");
//        stringList.add("12409.");
//        stringList.add("425413");
//        stringList.add("416116");
//        stringList.add("110042");
//        stringList.add("518122");
//        stringList.add("534442");
//        stringList.add("202124");
//        stringList.add("303901");
//        stringList.add("522410");
//        stringList.add("518573");
//        stringList.add("743337");
//        stringList.add("13409.");
//        stringList.add("321610");
//        stringList.add("140417");
//        stringList.add("743372");
//        stringList.add("13426.");
//        stringList.add("305001");
//        stringList.add("600072");
//        stringList.add("25204");
//        stringList.add("758013");
//        stringList.add("756101");
//        stringList.add("nkot -");
//        stringList.add("193101");
//        stringList.add("501501");
//        stringList.add("758044");
//        stringList.add("248142");
//        stringList.add("762002");
//        stringList.add("756020");
//        stringList.add("147001");
//        stringList.add("762027");
//        stringList.add("343041");
//        stringList.add("641666");
//        stringList.add("762103");
//        stringList.add("247342");
//        stringList.add("110041");
//        stringList.add("411047");
//        stringList.add("spur -");
//        stringList.add("24228");
//        stringList.add("343024");
//        stringList.add("250611");
//        stringList.add("522235");
//        stringList.add("247778");
//        stringList.add("247001");
//        stringList.add("411033");
//        stringList.add("412220");
//        stringList.add("110082");
//        stringList.add("110086");
//        stringList.add("110030");
//        stringList.add("231001");
//        stringList.add("247776");
//        stringList.add("209871");
//        stringList.add("206451");
//        stringList.add("231211");
//        stringList.add("231211");
//        stringList.add("231211");
//        stringList.add("231211");
//        stringList.add("231211");
//        stringList.add("272194");
//        stringList.add("852201");
//        stringList.add("756042");
//        stringList.add("743611");
//        stringList.add("700137");
//        stringList.add("743318");
//        stringList.add("743338");
//        stringList.add("522612");
//        stringList.add("324008");
//        stringList.add("517589");
//        stringList.add("521131");
//        stringList.add("272195");
//        stringList.add("303012");
//        stringList.add("344043");
//        stringList.add("147105");
//        stringList.add("272190");
//        stringList.add("756040");
//        stringList.add("758080");
//        stringList.add("765017");
//        stringList.add("765016");
//        stringList.add("143530");
//        stringList.add("303904");
//        stringList.add("845451");
//        stringList.add("273161");
//        stringList.add("756060");
//        stringList.add("416403");
//        stringList.add("762027");
//        stringList.add("226203");
//        stringList.add("756024");
//        stringList.add("272124");
//        stringList.add("416403");
//        stringList.add("143605");
//        stringList.add("281308");
//        stringList.add("147101");
//        stringList.add("762105");
//        stringList.add("273157");
//        stringList.add("762105");
//        stringList.add("743318");
//        stringList.add("13150.");
//        stringList.add("147102");
//        stringList.add("713150");
//        stringList.add("13123.");
//        stringList.add("143519");
//        stringList.add("413253");
//        stringList.add("13422.");
//        stringList.add("302012");
//        stringList.add("416404");
//        stringList.add("756019");
//        stringList.add("758013");
//        stringList.add("757040");
//        stringList.add("241204");
//        stringList.add("143533");
//        stringList.add("193121");
//        stringList.add("757042");
//        stringList.add("756126");
//        stringList.add("131028");
//        stringList.add("765020");
//        stringList.add("756046");
//        stringList.add("765020");
//        stringList.add("757077");
//        stringList.add("262541");
//        stringList.add("193402");
//        stringList.add("143514");
//        stringList.add("412210");
//        stringList.add("411018");
//        stringList.add("841407");
//        stringList.add("813209");
//        stringList.add("765029");
//        stringList.add("110030");
//        stringList.add("413005");
//        stringList.add("765017");
//        stringList.add("272172");
//        stringList.add("756049");
//        stringList.add("210205");
//        stringList.add("193121");
//        stringList.add("210208");
//        stringList.add("140417");
//        stringList.add("276403");
//        stringList.add("757042");
//        stringList.add("343032");
//        stringList.add("63139");
//        stringList.add("743329");
//        stringList.add("765019");
//        stringList.add("756120");
//        stringList.add("756114");
//        stringList.add("276305");
//        stringList.add("206250");
//        stringList.add("273161");
//        stringList.add("RADESH");
//        stringList.add("231009");
//        stringList.add("276208");
//        stringList.add("276206");
//        stringList.add("276302");
//        stringList.add("225405");
//        stringList.add("757054");
//        stringList.add("700144");
//        stringList.add("143516");
//        stringList.add("852216");
//        stringList.add("852216");
//        stringList.add("757040");
//        stringList.add("841508");
//        stringList.add("852216");
//        stringList.add("756114");
//        stringList.add("756125");
//        stringList.add("852216");
//        stringList.add("852123");
//        stringList.add("281306");
//        stringList.add("193121");
//        stringList.add("302012");
//        stringList.add("110083");
//        stringList.add("515201");
//        stringList.add("274207");
//        stringList.add("814146");
//        stringList.add("765019");
//        stringList.add("276001");
//        stringList.add("275301");
//        stringList.add("276126");
//        stringList.add("276403");
//        stringList.add("223224");
//        stringList.add("302012");
//        stringList.add("273161");
//        stringList.add("248198");
//        stringList.add("233305");
//        stringList.add("841423");
//        stringList.add("206130");
//        stringList.add("221001");
//        stringList.add("225405 ");
//        stringList.add("275203");
//        stringList.add("302016");
//        stringList.add("812004");
//        stringList.add("335025");
//        stringList.add("276404");
//        stringList.add("758043");
//        stringList.add("140401");
//        stringList.add("147002");
//        stringList.add("276404");
//        stringList.add("765001");
//        stringList.add("756083");
//        stringList.add("223224");
//        stringList.add("847215");
//        stringList.add("223223");
//        stringList.add("223103");
//        stringList.add("302033");
//        stringList.add("231309");
//        stringList.add("803115");
//        stringList.add("209204");
//        stringList.add("815316");
//        stringList.add("756048");
//        stringList.add("814111");
//        stringList.add("743504");
//        stringList.add("756027");
//        stringList.add("756024");
//        stringList.add("271201");
//        stringList.add("852214");
//        stringList.add("852216");
//        stringList.add("841221");
//        stringList.add("765017");
//        stringList.add("765017");
//        stringList.add("765017");
//        stringList.add("231211");
//        stringList.add("743363");
//        stringList.add("147104");
//        stringList.add("814110");
//        stringList.add("147301");
//        stringList.add("743329");
//        stringList.add("272002");
//        stringList.add("276128");
//        stringList.add("814119");
//        stringList.add("816109");
//        stringList.add("765015");
//        stringList.add("841205");
//        stringList.add("841205");
//        stringList.add("841217");
//        stringList.add("765017");
//        stringList.add("765019");
//        stringList.add("756024");
//        stringList.add("762027");
//        stringList.add("841242");
//        stringList.add("147102");
//        stringList.add("147105");
//        stringList.add("758027");
//        stringList.add("845437");
//        stringList.add("276129");
//        stringList.add("233230");
//        stringList.add("741301");
//        stringList.add("223224");
//        stringList.add("222139");
//        stringList.add("241126");
//        stringList.add("206247");
//        stringList.add("276128");
//        stringList.add("276131");
//        stringList.add("143518");
//        stringList.add("276288");
//        stringList.add("273158");
//        stringList.add("262901");
//        stringList.add("262701");
//        stringList.add("147111");
//        stringList.add("147001");
//        stringList.add("140603");
//        stringList.add("275301");
//        stringList.add("276403");
//        stringList.add("276405");
//        stringList.add("276403");
//        stringList.add("276403");
//        stringList.add("276403");
//        stringList.add("223227");
//        stringList.add("222001");
//        stringList.add("209743");
//        stringList.add("223104");
//        stringList.add("209743");
//        stringList.add("261506");
//        stringList.add("517583");
//        stringList.add("521121");
//        stringList.add("521366");
//        stringList.add("517583");
//        stringList.add("224129");
//        stringList.add("222139");
//        stringList.add("521110");
//        stringList.add("226017");
//        stringList.add("262701");
//        stringList.add("262901");
//        stringList.add("226017");
//        stringList.add("110019");
//        stringList.add("242301");
//        stringList.add("758028");
//        stringList.add("765181");
//        stringList.add("412216");
//        stringList.add("425417");
//        stringList.add("413520");
//        stringList.add("415302");
//        stringList.add("110082");
//        stringList.add("207246");
//        stringList.add("110053");
//        stringList.add("202133");
//        stringList.add("201306");
//        stringList.add("140124");
//        stringList.add("743503");
//        stringList.add("110081");
//        stringList.add("504251");
//        stringList.add("302027");
//        stringList.add("509126");
//        stringList.add("324005");
//        stringList.add("762110");
//        stringList.add("424306");
//        stringList.add("712404");
//        stringList.add("713514");
//        stringList.add("441902");
//        stringList.add("713143");
//        stringList.add("743312");
//        stringList.add("713145");
//        stringList.add("711401");
//        stringList.add("301030");
//        stringList.add("515761");
//        stringList.add("516432");
//        stringList.add("281006");
//        stringList.add("416101");
//        stringList.add("712401");
//        stringList.add("193301");
//        stringList.add("743376");
//        stringList.add("147105");
//        stringList.add("758037");
//        stringList.add("506013");
//        stringList.add("765019");
//        stringList.add("518395");
//        stringList.add("743329");
//        stringList.add("743338");
//        stringList.add("250001");
//        stringList.add("758043");
//        stringList.add("415302");
//        stringList.add("758015");
//        stringList.add("515556");
//        stringList.add("756119");
//        stringList.add("758083");
//        stringList.add("110039");
//        stringList.add("743329");
//        stringList.add("756133");
//        stringList.add("758080");
//        stringList.add("762011");
//        stringList.add("251201");
//        stringList.add("501511");
//        stringList.add("303105");
//        stringList.add("743338");
//        stringList.add("700066");
//        stringList.add("756048");
//        stringList.add("13150.");
//        stringList.add("700145");
//        stringList.add("13513.");
//        stringList.add("743329");
//        stringList.add("743502");
//        stringList.add("13146.");
//        stringList.add("411033");
//        stringList.add("425508");
//        stringList.add("441701");
//        stringList.add("425414");
//        stringList.add("425412");
//        stringList.add("13330.");
//        stringList.add("852216");
//        stringList.add("144103");
//        stringList.add("425114");
//        stringList.add("500045");
//        stringList.add("600103");
//        stringList.add("411019");
//        stringList.add("143531");
//        stringList.add("523187");
//        stringList.add("522421");
//        stringList.add("522402");
//        stringList.add("251201");
//        stringList.add("207301");
//        stringList.add("743363");
//        stringList.add("425418");
//        stringList.add("40401 ");
//        stringList.add("202134");
//        stringList.add("143401");
//        stringList.add("110085");
//        stringList.add("143602");
//        stringList.add("522646");
//        stringList.add("515561");
//        stringList.add("534267");
//        stringList.add("344022");
//        stringList.add("712412");
//        stringList.add("756046");
//        stringList.add("756027");
//        stringList.add("144410");
//        stringList.add("143419");
//        stringList.add("184205");
//        stringList.add("342024");
//        stringList.add("509412");
//        stringList.add("283203");
//        stringList.add("140601");
//        stringList.add("283203");
//        stringList.add("413530");
//        stringList.add("756021");
//        stringList.add("413310");
//        stringList.add("306504");
//        stringList.add("322205");
//        stringList.add("283113");
//        stringList.add("335523");
//        stringList.add("507134");
//        stringList.add("533251");
//        stringList.add("306115");
//        stringList.add("143505");
//        stringList.add("144419");
//        stringList.add("143601");
//        stringList.add("335513");
//        stringList.add("251311");
//        stringList.add("281302");
//        stringList.add("325602");
//        stringList.add("283125");
//        stringList.add("244713");
//        stringList.add("143505");
//        stringList.add("335513");
//        stringList.add("262554");
//        stringList.add("275203");
//        stringList.add("221601");
//        stringList.add("247453");
//        stringList.add("335513");
//        stringList.add("281122");
//        stringList.add("281501");
//        stringList.add("44011 ");
//        stringList.add("344027");
//        stringList.add("712305");
//        stringList.add("743610");
//        stringList.add("743370");
//        stringList.add("521126");
//        stringList.add("302016");
//        stringList.add("756027");
//        stringList.add("143531");
//        stringList.add("140401");
//        stringList.add("743330");
//        stringList.add("700145");
//        stringList.add("743337");
//        stringList.add("743355");
//        stringList.add("743372");
//        stringList.add("193121");
//        stringList.add("244713");
//        stringList.add("431131");
//        stringList.add("756024");
//        stringList.add("756083");
//        stringList.add("182144");
//        stringList.add("110086");
//        stringList.add("416416");
//        stringList.add("756138");
//        stringList.add("304502");
//        stringList.add("342005");
//        stringList.add("344022");
//        stringList.add("344011");
//        stringList.add("282006");
//        stringList.add("226018");
//        stringList.add("281122");
//        stringList.add("756112");
//        stringList.add("516269");
//        stringList.add("272301");
//        stringList.add("516172");
//        stringList.add("-51632");
//        stringList.add("516360");
//        stringList.add("516269");
//        stringList.add("272182");
//        stringList.add("272182");
//        stringList.add("343001");
//        stringList.add("343001");
//        stringList.add("326034");
//        stringList.add("756027");
//        stringList.add("335523");
//        stringList.add("676123");
//        stringList.add("281001");
//        stringList.add("222149");
//        stringList.add("272002");
//        stringList.add("712415");
//        stringList.add("712413");
//        stringList.add("151505");
//        stringList.add("344032");
//        stringList.add("251001");
//        stringList.add("518411");
//        stringList.add("343021");
//        stringList.add("326034");
//        stringList.add("271303");
//        stringList.add("271205");
//        stringList.add("271205");
//        stringList.add("271604");
//        stringList.add("516001");
//        stringList.add("481880");
//        stringList.add("481778");
//        stringList.add("303303");
//        stringList.add("175011");
//        stringList.add("484555");
//        stringList.add("484555");
//        stringList.add("484001");
//        stringList.add("484334");
//        stringList.add("481885");
//        stringList.add("484555");
//        stringList.add("481885");
//        stringList.add("676508");
//        stringList.add("485551");
//        stringList.add("712401");
//        stringList.add("485001");
//        stringList.add("175034");
//        stringList.add("835324");
//        stringList.add("835324");
//        stringList.add("485001");
//        stringList.add("209801");
//        stringList.add("484336");
//        stringList.add("481800");
//        stringList.add("484110");
//        stringList.add("125051");
//        stringList.add("835324");
//        stringList.add("481885");
//        stringList.add("231302");
//        stringList.add("231304");
//        stringList.add("794001");
//        stringList.add("326034");
//        stringList.add("175024");
//        stringList.add("828134");
//        stringList.add("271205");
//        stringList.add("825313");
//        stringList.add("271205");
//        stringList.add("835102");
//        stringList.add("271201");
//        stringList.add("505001");
//        stringList.add("505001");
//        stringList.add("176044");
//        stringList.add("781303");
//        stringList.add("794108");
//        stringList.add("331403");
//        stringList.add("679321");
//        stringList.add("679934");
//        stringList.add("641670");
//        stringList.add("481661");
//        stringList.add("835223");
//        stringList.add("210205");
//        stringList.add("272163");
//        stringList.add("271604");
//        stringList.add("523101");
//        stringList.add("825313");
//        stringList.add("321024");
//        stringList.add("678687");
//        stringList.add("272002");
//        stringList.add("641666");
//        stringList.add("248145");
//        stringList.add("635107");
//        stringList.add("635114");
//        stringList.add("637102");
//        stringList.add("470115");
//        stringList.add("272124");
//        stringList.add("326034");
//        stringList.add("328024");
//        stringList.add("326036");
//        stringList.add("326034");
//        stringList.add("306504");
//        stringList.add("335523");
//        stringList.add("247776");
//        stringList.add("335501");
//        stringList.add("414204");
//        stringList.add("415409");
//        stringList.add("678533");
//        stringList.add("335504");
//        stringList.add("481664");
//        stringList.add("335504");
//        stringList.add("601204");
//        stringList.add("331517");
//        stringList.add("136117");
//        stringList.add("516267");
//        stringList.add("641670");
//        stringList.add("679334");
//        stringList.add("232103");
//        stringList.add("600116");
//        stringList.add("486776");
//        stringList.add("481331");
//        stringList.add("247656");
//        stringList.add("247670");
//        stringList.add("202170");
//        stringList.add("335504");
//        stringList.add("483334");
//        stringList.add("483220");
//        stringList.add("481661");
//        stringList.add("481995");
//        stringList.add("481661");
//        stringList.add("481879");
//        stringList.add("488220");
//        stringList.add("470125");
//        stringList.add("470115");
//        stringList.add("484224");
//        stringList.add("637102");
//        stringList.add("184104");
//        stringList.add("175009");
//        stringList.add("700066");
//        stringList.add("484110");
//        stringList.add("484770");
//        stringList.add("247121");
//        stringList.add("301001");
//        stringList.add("516501");
//        stringList.add("481663");
//        stringList.add("485001");
//        stringList.add("484770");
//        stringList.add("486670");
//        stringList.add("273303");
//        stringList.add("303503");
//        stringList.add("174405");
//        stringList.add("486661");
//        stringList.add("321302");
//        stringList.add("303501");
//        stringList.add("335501");
//        stringList.add("794112");
//        stringList.add("271504");
//        stringList.add("488220");
//        stringList.add("484770");
//        stringList.add("484770");
//        stringList.add("484110");
//        stringList.add("484665");
//        stringList.add("484774");
//        stringList.add("484001");
//        stringList.add("765002");
//        stringList.add("752085");
//        stringList.add("480994");
//        stringList.add("480882");
//        stringList.add("506164");
//        stringList.add("272182");
//        stringList.add("272182");
//        stringList.add("816104");
//        stringList.add("816105");
//        stringList.add("816105");
//        stringList.add("272163");
//        stringList.add("815316");
//        stringList.add("484660");
//        stringList.add("815311");
//        stringList.add("481332");
//        stringList.add("752084");
//        stringList.add("636009");
//        stringList.add("303501");
//        stringList.add("506345");
//        stringList.add("506391");
//        stringList.add("481995");
//        stringList.add("483334");
//        stringList.add("488220");
//        stringList.add("484001");
//        stringList.add("486669");
//        stringList.add("425418");
//        stringList.add("425414");
//        stringList.add("671541");
//        stringList.add("521105");
//        stringList.add("272190");
//        stringList.add("335502");
//        stringList.add("484661");
//        stringList.add("481664");
//        stringList.add("483334");
//        stringList.add("250401");

        for (String zipCode : stringList) {
            LatLng latLng = GeocodingHelper.getLatLngFromZip(getApplicationContext(), zipCode);
            if (latLng != null) {
                double latitude = latLng.latitude;
                double longitude = latLng.longitude;
                String latitudeString = String.valueOf(latitude);
                String longitudeString = String.valueOf(longitude);
                location.setText(latitudeString + "  ,  " + longitudeString);
                Log.d("TAG", "latitude: " + latitude);
                Log.d("TAG", "longitude: " + longitude);

                String addressString = GeocodingHelper.getAddressFromLatLng(getApplicationContext(), latLng);
                if (addressString != null) {
                    address.setText(addressString);
                 SaveCSPCenters(zipCode, latitudeString, longitudeString, addressString);
                    new Handler().postDelayed(new Runnable() {
                        @Override
                        public void run() {

                        }
                    }, 2000);
                    Log.d("TAG", "Address: " + addressString);
                } else {
                    Log.d("TAG", "Address not found");
                }
            } else {
                Log.d("TAG", "LatLng is null");
            }
        }
    }
    public void SaveCSPCenters(String Pincode, String Latitude, String Longitude, String Address) {

        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();
        logging.setLevel(HttpLoggingInterceptor.Level.BODY);
        OkHttpClient.Builder httpClient = new OkHttpClient.Builder();
        httpClient.connectTimeout(2, TimeUnit.MINUTES);
        httpClient.readTimeout(2, TimeUnit.MINUTES);
        httpClient.addInterceptor(logging);

        Retrofit retrofit = new Retrofit.Builder()
                .baseUrl("https://erpservice.paisalo.in:980/PDL.Mobile.Api/api/")
                .addConverterFactory(GsonConverterFactory.create())
                .client(httpClient.build())
                .build();
        ApiInterface apiInterface = retrofit.create(ApiInterface.class);
        String NEW_TOKEN = "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJJZCI6IjE1MzkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiZG90bmV0ZGV2MkBwYWlzYWxvLmluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZW1haWxhZGRyZXNzIjoiZG90bmV0ZGV2MkBwYWlzYWxvLmluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiIxNTM5IiwiUm9sZSI6WyJBRE1JTiIsIkFETUlOIl0sIkJyYW5jaENvZGUiOiIiLCJDcmVhdG9yIjoiIiwiVU5hbWUiOiJSQUpBTiBLVU1BUiIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6IlNlcCBUdWUgMTkgMjAyMyAwOToxNzoyNyBBTSIsIm5iZiI6MTY5NTAyODY0NywiZXhwIjoxNjk1MDk1MjQ3LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MTg4IiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzE4OCJ9.HExCvcIBYCrxQUqEI5ehCNK_GA0i1oL9j_sYEbak4vk";
        Call<CSPCentersResponce> call = apiInterface.getCenter(NEW_TOKEN, Pincode, Latitude, Longitude, Address);
        call.enqueue(new Callback<CSPCentersResponce>() {
            @Override
            public void onResponse(Call<CSPCentersResponce> call, Response<CSPCentersResponce> response) {
                Log.d("TAG", "onResponsecsp" + response.body());
                if (response.isSuccessful()) {
                    CSPCentersResponce cspCentersResponce = response.body();
                    Log.d("TAG", "onResponsecsp" + cspCentersResponce);
                } else {
                    Log.e("TAG", "onResponsecsp" + response.code());
                }
            }

            @Override
            public void onFailure(Call<CSPCentersResponce> call, Throwable t) {
                Log.e("TAG", "onResponsecsp : RAGHUfail" + t.getMessage());
                Toast.makeText(MainActivity.this, "Failure!!\nScheme VH", Toast.LENGTH_SHORT).show();
            }
        });

    }

    static class GeocodingHelper {
        public static LatLng getLatLngFromZip(Context context, String zipCode) {
            Geocoder geocoder = new Geocoder(context, Locale.getDefault());
            try {
                List<Address> addresses = geocoder.getFromLocationName(zipCode, 1);
                if (addresses != null && !addresses.isEmpty()) {
                    Address address = addresses.get(0);
                    double latitude = address.getLatitude();
                    double longitude = address.getLongitude();
                    return new LatLng(latitude, longitude);
                }
                Log.d("TAG", "getLatLngFromZip: " + addresses);
            } catch (IOException e) {
                Log.e("Geocoding", "Error getting LatLng from zip code", e);
            }
            return null;
        }

        public static String getAddressFromLatLng(Context context, LatLng latLng) {
            Geocoder geocoder = new Geocoder(context, Locale.getDefault());
            try {
                List<Address> addresses = geocoder.getFromLocation(latLng.latitude, latLng.longitude, 1);
                if (addresses != null && !addresses.isEmpty()) {
                    Address address = addresses.get(0);
                    StringBuilder addressStringBuilder = new StringBuilder();
                    for (int i = 0; i <= address.getMaxAddressLineIndex(); i++) {
                        addressStringBuilder.append(address.getAddressLine(i)).append("\n");
                    }
                    return addressStringBuilder.toString();
                }
            } catch (IOException e) {
                Log.e("Geocoding", "Error getting address from LatLng", e);
            }
            return null;
        }

    }
}
